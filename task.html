
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Task Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
	<style type="text/css">
	.well {
        margin: 0 auto;
        min-height: 700px; 
    	position: relative;
    	overflow: hidden;
        background-color: #efefef;
      }
	</style>
    <link href="css/bootstrap-responsive.css" rel="stylesheet">
	<link href="css/jquery-ui-1.10.3.custom.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="ico/favicon.png">
  </head>

  <body>


    <div class="container-fluid"><!-- container  -->
		<div class="row-fluid">
			<div class="span3"> <!--  sidebar    -->
				
				<div class="navbar navbar-inverse"><!--- sidebar navbar -->
					<div class="navbar-inner">
						<div class="container">
							<a class="brand" href="#">Task Management</a>		
						</div>
					</div>
				</div><!--- end of sidebar navbar -->
				
				<div class="well "><!-- start of well -->
					<ul class="nav nav-list nav-stacked">
						<li class="nav-header">Smart Lists</li>
						<li class=><a href="#"><i class="icon-list"></i> All Tasks <span class="badge badge-info pull-right">8</span></a></li>
						<li class=><a href="#"><i class="icon-list"></i> Overdue <span class="badge badge-info pull-right">14</span></a></li>
						<li class=><a href="#"><i class="icon-list"></i> Today <span class="badge badge-info pull-right">4</span></a></li>
						<li class=><a href="#"><i class="icon-list"></i> Upcoming<span class="badge badge-info pull-right">8</span></a></li>

						<li class="nav-header">Lists</li>
						<li class=><a href="#"><i class="icon-list"></i> Work<span class="badge badge-info pull-right">5</span></a></li>
						<li class=><a href="#"><i class="icon-list"></i> Family<span class="badge badge-info pull-right">8</span></a></li>
						<li class=><a href="#"><i class="icon-list"></i> Other<span class="badge badge-info pull-right">8</span></a></li>
						
					</ul>
				
				</div><!-- end of well -->	
			
			</div><!--  end of sidebar    -->
			
			
			<div class="span9"><!-- main area --->
				<div class="navbar navbar-inverse"><!-- main navbar----->
						 <div class = "navbar-inner">
						 	<div class="container">
						 		<button type = 'button' class="btn btn-navbar" data-toggle = 'collapse' data-target = ".nav-collapse">
							 		<span class="icon-bar"></span>
						            <span class="icon-bar"></span>
						            <span class="icon-bar"></span>
								</button>
								<div class="nav-collapse collapse">
									<ul class="nav">
			                          <li class="dropdown active">
							                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-th icon-white"></i> Category<b class="caret"></b></a>
							                <ul class="dropdown-menu">
							                  <li><a href="#">Work</a></li>
							                  <li><a href="#">Family</a></li>
							                  <li><a href="#">Other</a></li>
							                  <li class="divider"></li>
							                  <li class="nav-header">Priority</li>
							                  <li><a href="#">Urgent</a></li>
							                  <li><a href="#">Normal</a></li>
							                </ul>
						              </li>
						            </ul>
								</div>
								<div class="nav-collapse collapse">
									<ul class="nav">
			                          <li class="dropdown active">
							                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-plus icon-white"></i> New<b class="caret"></b></a>
							                <ul class="dropdown-menu">
							                  <!-- Button to trigger modal add task -->
							                  <li><a href="#addTask" role="button" class="btn" data-toggle="modal">Task</a></li>
							                  <!-- Button to trigger modal  add list -->
							                  <li><a href="#addCategory" role="button" class="btn" data-toggle="modal">Category</a></li>
							                </ul>
						              </li>
						            </ul>
						            <!-- modals   add new list-->
						            <div class="modal hide fade" id = "addCategory" tabindex="-1" role = "dialog" aria-hidden = "true" >
						            	<form class="form-horizontal form-inline">
							            	<div class="modal-header">
							            		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
							            		<h2> Add New Category</h2>
							            	</div>
							            	
							            	<div class="modal-body">
							            		<fieldset>
							            			<input class="span7" type="text" placeholder="new category…">
							            		</fieldset>
							            	</div>
							            	
							            	<div class="modal-footer">
							            		<button class="btn btn-danger" data-dismiss = "modal" aria-hidden = "true">Close</button>
							            		<button class="btn btn-success" type="suubmit" >Save</button>
							            	</div>
							            </form>
						            </div><!-- end of modals  add new list -->
						            
						            <!-- modals   add new task-->
						            <div class="modal hide fade" id = "addTask" tabindex="-1" role = "dialog" aria-hidden = "true" >
						            	<form class="form-horizontal form-inline">
							            	<div class="modal-header">
							            		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
							            		<h2> Add New Task</h2>
							            	</div>
							            	
							            	<div class="modal-body">
							            		<fieldset>
							            			<input class="span7" type="text" placeholder="Title…">
							            			<textarea class="span9" rows="4" placeholder="Something need to be done…"></textarea>
							            			<table class="table">
							            				<tr>
							            					<td>Due Date:</td>
							            					<td><input type="text"  id="duedate"></td>
							            				</tr>
							            				<tr>
							            					<td>Priority:</td>
							            					<td>
							            						<div id="radio" >
																    <input type="radio" id="radio1" name="radio" /><label class="text-error" for="radio1"> high </label>
																    <input type="radio" id="radio2" name="radio" /><label class="text-warning" for="radio2"> normal </label>
																    <input type="radio" id="radio3" name="radio" /><label class="text-success" for="radio3"> low </label>
															   </div>
															</td>
							            				</tr>
							            				<tr>
							            					<td>List:</td>
							            					<td>
							            						<select> 
							            							  <option>work</option>
																	  <option>family</option>
																	  <option>other</option>
							            						</select>
							            					</td>
							            				</tr>
							            			</table>
							            		</fieldset>
							            	</div>
							            	
							            	<div class="modal-footer">
							            		<button class="btn btn-danger" data-dismiss = "modal" aria-hidden = "true">Close</button>
							            		<button class="btn btn-success" type="suubmit" >Save</button>
							            	</div>
							            </form>
						            </div><!-- end of modals  add new task -->
						            
								</div>
								<div class="nav-collapse collapse pull-right">
									<ul class="nav">
			                          <li class="dropdown active">
							                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-user icon-white"></i> User<b class="caret"></b></a>
							                <ul class="dropdown-menu">
							                  <li><a href="#">Logout</a></li>
							                  <li><a href="#">Profile</a></li>
							                  <li><a href="#">Setting</a></li>
							                </ul>
						              </li>
						            </ul>
								</div>
								<form class="navbar-search pull-right">
							              <input class="search-query" type="text" placeholder="Search">
							    </form>
						 	</div>
						 </div>
					</div>
					<!--end of  main navbar----->
					
					
					<div class="container-fluid"><!--   tasks lists table   -->
						<div class="row">
								<h2 class="offset1">All tasks</h2>
								<a class="btn btn-primary pull-right" href="#"><i class="icon-list"></i> Sort by Priority</a>
								<a class="btn btn-warning pull-right" href="#"><i class="icon-list"></i> Sort by Due Time</a>
						</div>
						<hr>
						<!-- start of  tasks lists table generate from script template   --> 
						<table class="table table-hover" id= "tasklist">
						</table>
							
					</div><!-- end of  tasks lists table   --> 
					
					
					
			</div><!-- end of main area --->
			
		</div>
		      <hr>


    </div><!-- container  -->
    
    
    <!-- footer -->
      <div class="footer"> 
        <p>&copy; Company 2013</p>
      </div>
    <!-- footer -->
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/template" id="list-task-template">
    	<table class="table table-hover" id= "tasklist">
							<tr class="success">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 1</a> </td>
								<td class="pull-right span2"><label class="text-info">toady</label> </td>
							</tr>
							<tr class="success">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 2</a> </td>
								<td class="pull-right span2"><label class="text-info">toady</label> </td>
							</tr>
							<tr class="warning">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 3</a> </td>
								<td class="pull-right span2"><label class="text-info">tomorrow</label> </td>
							</tr>
							<tr class="warning">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 4</a> </td>
								<td class="pull-right span2"><label class="text-info">tomorrow</label> </td>
							</tr>
							<tr class="success">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 5</a> </td>
								<td class="pull-right span2"><label class="text-info">toady</label> </td>
							</tr>
							<tr class="success">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 6</a> </td>
								<td class="pull-right span2"><label class="text-info">toady</label> </td>
							</tr>
							<tr class="success">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 7</a> </td>
								<td class="pull-right span2"><label class="text-info">toady</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 8</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 9</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 10</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 11</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 12</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 13</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							<tr class="error">
								<td class="span1"><input type="checkbox"></td>
								<td class="span11"><a href="#">task 14</a> </td>
								<td class="pull-right span2"><label class="text-error">2012-11-08</label> </td>
							</tr>
							
						</table>
    </script>
    
    
    
    
   	<script src="js/jquery-1.9.1.js"></script>
   	<script src="js/jquery-ui-1.10.3.custom.min.js"></script>
   	<script>
	  $(function() {
	    $( "#duedate" ).datepicker();
	  });
    </script>
    <script src="js/bootstrap.min.js"></script>
    <script src= "http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js" ></script>
    <script src= "http://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js" ></script>

    <script>
    	var Tasks = Backbone.Collection.extend({
    		url: '/task',
    	});
    	
    	var TaskList = Backbone.View.extend({
    		el:'#tasklist',
    		render:function(){
    			var that = this;
    			var tasks = new Tasks();
    			tasks.fetch({
    				error: function(){
    					var template = _.template($('#list-task-template').html(), {tasks: tasks.models});
    					that.$el.html(template);
    				},
    			
    			})
    		}
    	});
    
    	var Router = Backbone.Router.extend({
    		routes: {
    			'':'home',
    		}
    	});
    	var tasklist = new TaskList(); 
    	
    	var router= new Router();
    	router.on('route:home', function(){
    		tasklist.render();	
    	});
    	
    	Backbone.history.start();
    </script>
    
  </body>
</html>
